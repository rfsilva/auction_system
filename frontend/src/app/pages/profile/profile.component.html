<div class="profile-container">
  <div class="profile-header">
    <h1>Meu Perfil</h1>
    <p>Gerencie suas informa√ß√µes e atividades</p>
  </div>

  <div class="profile-content">
    <div class="profile-sidebar">
      <div class="profile-card">
        <div class="profile-avatar">
          <div class="avatar-placeholder">
            {{ getInitials() }}
          </div>
        </div>
        <div class="profile-info">
          <h3>{{ currentUser()?.name || 'Usu√°rio' }}</h3>
          <p>{{ currentUser()?.email || 'email@exemplo.com' }}</p>
          <span class="profile-role" [ngClass]="getRoleClass()">{{ getRoleDescription() }}</span>
          <span class="profile-status" [ngClass]="getStatusClass()">{{ getStatusDescription() }}</span>
        </div>
      </div>

      <nav class="profile-nav">
        <a href="#" class="nav-item active">
          <span class="nav-icon">üë§</span>
          Informa√ß√µes Pessoais
        </a>
        <a href="#" class="nav-item" *ngIf="authService.canBid()">
          <span class="nav-icon">üî®</span>
          Meus Lances
        </a>
        <a href="#" class="nav-item" *ngIf="authService.canSell()">
          <span class="nav-icon">üì¶</span>
          Meus Leil√µes
        </a>
        <a href="#" class="nav-item">
          <span class="nav-icon">üí≥</span>
          Pagamentos
        </a>
        <a href="#" class="nav-item">
          <span class="nav-icon">‚öôÔ∏è</span>
          Configura√ß√µes
        </a>
        <a href="#" class="nav-item" *ngIf="authService.isAdmin()">
          <span class="nav-icon">üõ†Ô∏è</span>
          Administra√ß√£o
        </a>
      </nav>
    </div>

    <div class="profile-main">
      <div class="section">
        <h2>Informa√ß√µes Pessoais</h2>
        <div class="info-grid">
          <div class="info-item">
            <label>Nome Completo</label>
            <div class="info-value">{{ currentUser()?.name || 'N√£o informado' }}</div>
          </div>
          <div class="info-item">
            <label>E-mail</label>
            <div class="info-value">
              {{ currentUser()?.email || 'N√£o informado' }}
              <span class="verification-badge" *ngIf="currentUser()?.emailVerificado" class="verified">‚úì Verificado</span>
              <span class="verification-badge" *ngIf="!currentUser()?.emailVerificado" class="unverified">‚ö† N√£o verificado</span>
            </div>
          </div>
          <div class="info-item">
            <label>Telefone</label>
            <div class="info-value">
              {{ currentUser()?.phone || 'N√£o informado' }}
              <span class="verification-badge" *ngIf="currentUser()?.telefoneVerificado" class="verified">‚úì Verificado</span>
              <span class="verification-badge" *ngIf="currentUser()?.phone && !currentUser()?.telefoneVerificado" class="unverified">‚ö† N√£o verificado</span>
            </div>
          </div>
          <div class="info-item">
            <label>Status da Conta</label>
            <div class="info-value">
              <span [ngClass]="getStatusClass()">{{ getStatusDescription() }}</span>
            </div>
          </div>
          <div class="info-item">
            <label>Permiss√µes</label>
            <div class="info-value">
              <div class="roles-list">
                <span *ngFor="let role of currentUser()?.roles" 
                      class="role-badge" 
                      [ngClass]="getRoleClass(role)">
                  {{ getRoleDescription(role) }}
                </span>
              </div>
            </div>
          </div>
          <div class="info-item" *ngIf="currentUser()?.ultimoLogin">
            <label>√öltimo Login</label>
            <div class="info-value">{{ formatDate(currentUser()?.ultimoLogin) }}</div>
          </div>
        </div>
        <button class="btn btn-primary">Editar Informa√ß√µes</button>
      </div>

      <div class="section" *ngIf="!isVisitorOnly()">
        <h2>Estat√≠sticas</h2>
        <div class="stats-grid">
          <div class="stat-card" *ngIf="authService.canBid()">
            <div class="stat-number">12</div>
            <div class="stat-label">Lances Dados</div>
          </div>
          <div class="stat-card" *ngIf="authService.canBid()">
            <div class="stat-number">3</div>
            <div class="stat-label">Leil√µes Ganhos</div>
          </div>
          <div class="stat-card" *ngIf="authService.canSell()">
            <div class="stat-number">8</div>
            <div class="stat-label">Produtos Vendidos</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">R$ 15.500</div>
            <div class="stat-label">Total Transacionado</div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>Atividade Recente</h2>
        <div class="activity-list">
          <div class="activity-item" *ngIf="authService.canBid()">
            <div class="activity-icon">üî®</div>
            <div class="activity-content">
              <div class="activity-title">Lance de R$ 4.500 no iPhone 15 Pro Max</div>
              <div class="activity-time">H√° 2 horas</div>
            </div>
            <div class="activity-status success">Vencendo</div>
          </div>
          <div class="activity-item">
            <div class="activity-icon">üì¶</div>
            <div class="activity-content">
              <div class="activity-title">Leil√£o finalizado - MacBook Air M2</div>
              <div class="activity-time">Ontem</div>
            </div>
            <div class="activity-status neutral">Perdeu</div>
          </div>
          <div class="activity-item">
            <div class="activity-icon">üí≥</div>
            <div class="activity-content">
              <div class="activity-title">Pagamento processado - R$ 2.300</div>
              <div class="activity-time">3 dias atr√°s</div>
            </div>
            <div class="activity-status success">Conclu√≠do</div>
          </div>
        </div>
      </div>

      <!-- Se√ß√£o especial para visitantes -->
      <div class="section" *ngIf="isVisitorOnly()">
        <h2>Complete seu Cadastro</h2>
        <p>Para participar de leil√µes e acessar todas as funcionalidades, complete seu cadastro:</p>
        <div class="upgrade-actions">
          <button class="btn btn-primary">Verificar Email</button>
          <button class="btn btn-secondary">Adicionar Telefone</button>
          <button class="btn btn-secondary">Enviar Documentos</button>
        </div>
      </div>
    </div>
  </div>
</div>